# InternacionalizaÃ§Ã£o (i18n) - Breakout Calendar

Este documento descreve como funciona o sistema de internacionalizaÃ§Ã£o do Breakout Calendar e como contribuir com traduÃ§Ãµes.

## ğŸŒ Idiomas Suportados

- **PortuguÃªs (pt)** - Idioma padrÃ£o ğŸ‡§ğŸ‡·
- **InglÃªs (en)** - English ğŸ‡ºğŸ‡¸  
- **Espanhol (es)** - EspaÃ±ol ğŸ‡ªğŸ‡¸

## ğŸ“ Estrutura

O sistema de i18n estÃ¡ implementado em:
- `js/i18n.js` - Sistema principal de traduÃ§Ã£o (classe `I18nManager`)
- `translations/pt.json` - TraduÃ§Ãµes em PortuguÃªs (Brasil)
- `translations/en.json` - TraduÃ§Ãµes em InglÃªs
- `translations/es.json` - TraduÃ§Ãµes em Espanhol
- TraduÃ§Ãµes embutidas como fallback no cÃ³digo
- PersistÃªncia de preferÃªncia no localStorage

## ğŸ”§ Como Funciona

### 1. Carregamento AutomÃ¡tico

O sistema carrega automaticamente:
1. Arquivos JSON de traduÃ§Ã£o via fetch assÃ­ncrono
2. Idioma salvo no localStorage (se existir)
3. PortuguÃªs como padrÃ£o (caso contrÃ¡rio)
4. Fallback para traduÃ§Ãµes incorporadas se arquivos JSON falharem

### 2. Seletor de Idioma

BotÃµes no cabeÃ§alho permitem alternar entre os idiomas:
```html
<div class="language-selector">
    <button onclick="changeLanguage('pt')">PT</button>
    <button onclick="changeLanguage('en')">EN</button>
    <button onclick="changeLanguage('es')">ES</button>
</div>
```

### 3. MarcaÃ§Ã£o HTML

Elementos com o atributo `data-i18n` sÃ£o traduzidos automaticamente:
```html
<span data-i18n="score">Pontos</span>
<button data-i18n="start">ComeÃ§ar</button>
```

### 4. TraduÃ§Ã£o DinÃ¢mica

Para textos gerados dinamicamente em JavaScript:
```javascript
const text = getText('gameOver'); // Retorna traduÃ§Ã£o atual
```

## ğŸ“ Estrutura das TraduÃ§Ãµes

### Arquivos de TraduÃ§Ã£o JSON

**translations/pt.json:**
```json
{
  "title": "Breakout Calendar",
  "score": "Pontos",
  "lives": "Vidas",
  "welcome": "Boas vindas ao Breakout Calendar!",
  // ... mais traduÃ§Ãµes
}
```

**translations/en.json:**
```json
{
  "title": "Breakout Calendar", 
  "score": "Score",
  "lives": "Lives",
  "welcome": "Welcome to Breakout Calendar!",
  // ... mais traduÃ§Ãµes
}
```

**translations/es.json:**
```json
{
  "title": "Breakout Calendar",
  "score": "Puntos", 
  "lives": "Vidas",
  "welcome": "Â¡Bienvenido a Breakout Calendar!",
  // ... mais traduÃ§Ãµes
}
```

### Categorias de TraduÃ§Ã£o

#### Interface Principal
- `title` - TÃ­tulo da pÃ¡gina
- `gameTitle` - TÃ­tulo do jogo
- `player` - Jogador
- `score` - PontuaÃ§Ã£o
- `lives` - Vidas

#### Controles do Jogo
- `start` - ComeÃ§ar/Iniciar
- `pause` - Pausar
- `resume` - Retomar
- `restart` - Reiniciar
- `playAgain` - Jogar Novamente

#### Mensagens
- `welcome` - Mensagem de boas-vindas
- `instructions` - InstruÃ§Ãµes do jogo
- `gameOver` - Fim de jogo
- `congratulations` - ParabÃ©ns (vitÃ³ria)

#### Legendas dos Blocos
- `legend` - Legenda
- `lightAppointment` - Compromisso Leve (1 hit)
- `mediumAppointment` - Compromisso MÃ©dio (2 hits)
- `hardAppointment` - Compromisso DifÃ­cil (3 hits)
- `indestructibleAppointment` - Compromisso IndestrutÃ­vel

**Nota**: Os blocos agora exibem nomes de compromissos especÃ­ficos e horÃ¡rios diretamente no canvas, inspirados no visual do Google Calendar.

**Nomes de Compromissos:**
- **Segunda a Sexta**: Compromissos profissionais (Focus Mode, Team Meeting, Performance Review, etc.)
- **SÃ¡bado e Domingo**: Atividades de fim de semana (Grocery Store, Park, House Cleaning, Gardening, etc.)

Os nomes sÃ£o selecionados aleatoriamente de um pool especÃ­fico para cada tipo de bloco e dia da semana.

#### Dias da Semana
- `monday` - Segunda-feira
- `tuesday` - TerÃ§a-feira  
- `wednesday` - Quarta-feira
- `thursday` - Quinta-feira
- `friday` - Sexta-feira
- `saturday` - SÃ¡bado
- `sunday` - Domingo

#### Sistema de Recordes
- `records` - Recordes
- `finalScore` - PontuaÃ§Ã£o Final
- `blocksDestroyed` - Blocos DestruÃ­dos
- `newRecord` - Novo Recorde

#### Links e NavegaÃ§Ã£o
- `sourceCode` - CÃ³digo Fonte
- `sponsor` - Apoiar

## ğŸš€ FunÃ§Ãµes Principais

### `changeLanguage(lang)`
Altera o idioma atual e atualiza a interface:
```javascript
changeLanguage('en'); // Muda para inglÃªs
```

### `getText(key)`
Retorna a traduÃ§Ã£o para uma chave especÃ­fica:
```javascript
const scoreLabel = getText('score'); // "Score" em inglÃªs
```

### `initializeI18n()`
Inicializa o sistema de traduÃ§Ã£o (assÃ­ncrono):
```javascript
await initializeI18n(); // Carrega traduÃ§Ãµes e configura idioma
```

### `i18nManager.loadTranslations()`
Carrega arquivos JSON de traduÃ§Ã£o:
```javascript
await i18nManager.loadTranslations(); // Fetch dos arquivos JSON
```

### `i18nManager.updateTexts()`
Atualiza todos os elementos com `data-i18n`:
```javascript
i18nManager.updateTexts(); // Aplica traduÃ§Ãµes atuais
```

### `i18nManager.updateDocumentLanguage()`
Define o atributo `lang` do documento HTML:
```javascript
i18nManager.updateDocumentLanguage(); // Ex: <html lang="pt-BR">
```

## ğŸ¯ Adicionando Novas TraduÃ§Ãµes

### 1. Adicionando Nova Chave

1. Adicione a chave em todos os arquivos JSON:

**translations/pt.json:**
```json
{
  "newKey": "Novo Texto em PortuguÃªs",
  // ... outras traduÃ§Ãµes
}
```

**translations/en.json:**
```json
{
  "newKey": "New Text in English",
  // ... outras traduÃ§Ãµes
}
```

**translations/es.json:**
```json
{
  "newKey": "Nuevo Texto en EspaÃ±ol",
  // ... outras traduÃ§Ãµes
}
```

2. Adicione tambÃ©m no fallback incorporado em `js/i18n.js`

3. Use no HTML:
```html
<span data-i18n="newKey">Texto padrÃ£o</span>
```

4. Ou use no JavaScript:
```javascript
const text = getText('newKey');
```

### 2. Adicionando Novo Idioma

1. Crie um novo arquivo JSON para o idioma:

**translations/fr.json:**
```json
{
  "title": "Breakout Calendar",
  "score": "Score",
  // ... todas as chaves traduzidas
}
```

2. Adicione o idioma aos arrays em `js/i18n.js`:
```javascript
this.supportedLanguages = ['pt', 'en', 'es', 'fr'];
```

3. Adicione tambÃ©m ao fallback incorporado no cÃ³digo

4. Adicione o botÃ£o no HTML:
```html
<button onclick="changeLanguage('fr')">FR</button>
```

5. Atualize o mapeamento de idiomas se necessÃ¡rio:
```javascript
const languageMap = {
    'pt': 'pt-BR',
    'en': 'en-US',
    'es': 'es-ES',
    'fr': 'fr-FR' // novo idioma
};
```

## âœ… Lista de VerificaÃ§Ã£o para TraduÃ§Ã£o

Ao adicionar um novo idioma, certifique-se de traduzir:

- [ ] TÃ­tulo e metadados da pÃ¡gina
- [ ] Interface principal (pontuaÃ§Ã£o, vidas, jogador)
- [ ] BotÃµes e controles
- [ ] Mensagens do jogo (inÃ­cio, fim, pausa)
- [ ] Legendas dos tipos de bloco
- [ ] Dias da semana (abreviados)
- [ ] Sistema de recordes
- [ ] Links do rodapÃ©
- [ ] Mensagens de confirmaÃ§Ã£o/alerta
- [ ] InstruÃ§Ãµes e ajuda

## ğŸ§ª Testando TraduÃ§Ãµes

### Teste Manual
1. Mude o idioma usando os botÃµes
2. Verifique se todos os textos foram traduzidos
3. Confirme que a preferÃªncia Ã© persistida (recarregue a pÃ¡gina)
4. Teste em diferentes tamanhos de tela

### Teste Automatizado
```bash
# Executar testes de i18n
npx jest i18n.test.js
```

### VerificaÃ§Ã£o de ConsistÃªncia
```javascript
// Verificar se todas as chaves existem em todos os idiomas
Object.keys(translations).forEach(lang => {
    const keys = Object.keys(translations[lang]);
    console.log(`${lang}: ${keys.length} chaves`);
});
```

## ğŸŒ ConsideraÃ§Ãµes Regionais

### FormataÃ§Ã£o de Textos
- **PortuguÃªs**: "1Â°", "Pontos:", "Blocos DestruÃ­dos:"
- **InglÃªs**: "1st", "Score:", "Blocks Destroyed:"  
- **Espanhol**: "1Â°", "Puntos:", "Bloques Destruidos:"

### AbreviaÃ§Ãµes dos Dias
- **PortuguÃªs**: SEG, TER, QUA, QUI, SEX, SAB, DOM
- **InglÃªs**: MON, TUE, WED, THU, FRI, SAT, SUN
- **Espanhol**: LUN, MAR, MIÃ‰, JUE, VIE, SÃB, DOM

### Mensagens de Sistema
Mantenha consistÃªncia no tom:
- **Formal**: InglÃªs
- **Semiformal**: PortuguÃªs, Espanhol

## ğŸ¤ Contribuindo com TraduÃ§Ãµes

### Para Melhorar TraduÃ§Ãµes Existentes
1. Identifique o texto a ser melhorado
2. Localize a chave correspondente no arquivo JSON adequado (`translations/pt.json`, etc.)
3. Altere a traduÃ§Ã£o mantendo o contexto
4. Atualize tambÃ©m o fallback em `js/i18n.js` se necessÃ¡rio
5. Teste a alteraÃ§Ã£o

### Para Adicionar Novo Idioma
1. Crie um novo arquivo JSON na pasta `translations/`
2. Copie todas as chaves de um idioma existente
3. Traduza cada valor mantendo formataÃ§Ã£o similar
4. Adicione o idioma ao sistema em `js/i18n.js`
5. Teste thoroughly o novo idioma
6. Considere aspectos culturais especÃ­ficos

### Diretrizes de TraduÃ§Ã£o
- Mantenha textos curtos para botÃµes
- Preserve formataÃ§Ã£o de nÃºmeros e sÃ­mbolos
- Adapte saudaÃ§Ãµes e expressÃµes culturalmente
- Teste em dispositivos mÃ³veis (espaÃ§o limitado)

---

Precisa de ajuda com traduÃ§Ãµes? [Abra uma issue](https://github.com/dwildt/breakoutcalendar/issues) no GitHub!